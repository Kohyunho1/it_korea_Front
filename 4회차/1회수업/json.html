<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      div {
        margin: 10px auto;
        width: 500px;
        height: auto;
        border: 1px solid black;
      }
    }
  </style>
  <body>
    <div id="app"></div>
  </body>
  <script>
    //json
    //배열은 [], json {}
    //json은 key와 value 구성되어있고, key는 중복될 수 없음
    let jsonData = {
      students: ["aaa", "bbb", "ccc", "ddd"],
      subject: ["SQL", "JAVA", "HTML"],
    };
    console.log(jsonData.students[1]); //첫번째 학생 출력
    console.log(jsonData.subject[0]); //첫번째 학생 출력

    //Quiz. subject SQL을 React.js로 변경하시오.(문자열 함수 이용해서 풀 것)
    jsonData.subject[0] = "React.js";
    console.log(jsonData.subject[0]);

    //마라톤참가 리스트 배열, 배열안에 json이 올 수 있음
    //json도 데이터 타입이다.(데이터 타입? 정수형, 문자형, 실수형 ...)
    let marathonList = [
      { no: 300, participant: "홍길동", isComplete: false, type: "half marathon", time: "null" },
      { no: 301, participant: "박길동", isComplete: true, type: "half marathon", time: "2024-04-18 08:15:15" },
      { no: 310, participant: "김길동", isComplete: true, type: "half marathon", time: "2024-04-18 08:00:15" },
      { no: 320, participant: "이길동", isComplete: true, type: "half marathon", time: "2024-04-18 08:05:15" },
    ];
    //항상 배열과 for문은 따라다닌다.
    //실무에서 접근하는 방법
    //isComplete : 마라톤 완주 여부 의미
    //마라톤을 완주한 참가자 이름, 등번호를 입력
    let count = 0;
    let temp = 0; //임시 변수
    let max = 0;
    for (let i = 0; i < marathonList.length; i++) {
      console.log(marathonList[i].isComplete); //완주 여부 출력
      if (marathonList[i].isComplete) {
        console.log(marathonList[i].participant); //참가자 이름 출력
        console.log(marathonList[i].no); //참가자 번호 출력
        document.querySelector("#app").innerHTML += "<p>" + marathonList[i].participant + "," + marathonList[i].no + "<p>";
      }
      /*quiz. 
      1.half marathon에 참여한 참가는 총 몇명인지 출력하시오.
      */

      if (marathonList[i].type == "half marathon") {
        ++count;
      }

      //박길동 선수가 15분으로 꼴찌를 함
      if (marathonList[i].time != "null") {
        let time = new Date(marathonList[i].time).getTime();
        //1970년 1월 1일 0시 0분 0초부터 ~ 2024-04-18 08:15:15 까지 걸린 시간(밀리초)
        console.log("time : " + time);
        if (max < time) {
          max = time; //시간 대입
          temp = i; //몇번째 인지?
        }
      }
    }
    console.log("꼴찌 참가자 이름 : " + marathonList[temp].participant);
    console.log("half marathon 참가자는 총 " + count);
  </script>
</html>
